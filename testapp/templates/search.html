{% extends 'base.html' %}
{% load humanize %}

{% block title %}å•†å“æ¤œç´¢ | Business Casual{% endblock %}

{% block contents %}
<div class="container mt-4">

  <!-- ğŸ” æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  -->
  <form method="get" action="{% url 'testapp:search' %}">
      <input type="text" name="q" value="{{ keyword }}" placeholder="å•†å“åã§æ¤œç´¢" class="form-control">
      <button type="submit" class="btn btn-primary mt-2">æ¤œç´¢</button>
  </form>

  <hr>

  <!-- çµæœè¡¨ç¤º -->
  <div class="row">
      {% for product in products %}
      <div class="col-md-4 mt-3">
          <div class="card">
              {% if product.image %}
              <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
              {% else %}
              <img src="https://via.placeholder.com/300x200?text=No+Image" class="card-img-top" alt="No image">
              {% endif %}

              <div class="card-body">
                  <h5 class="card-title">{{ product.name|default:"å•†å“åä¸æ˜" }}</h5>
                  <p class="card-text">
                      {% if product.price %}
                      Â¥{{ product.price|intcomma }}
                      {% else %}
                      ä¾¡æ ¼æœªå®š
                      {% endif %}
                  </p>
              </div>
          </div>
      </div>
      {% empty %}
      <p class="text-muted mt-3">å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
      {% endfor %}
  </div>

</div>
{% endblock %}
